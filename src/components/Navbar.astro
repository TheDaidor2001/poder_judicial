---
// src/components/Navbar.astro
import { SITE_MENU } from "../config/constants";
import MobileMenu from "./MobileMenu.astro";
---

<nav class="absolute top-0 left-0 w-full z-40 py-2 bg-black/20">
    <div class="max-w-7xl mx-auto flex justify-between items-center px-4">
        <img src="/images/logo.png" alt="Logo" class="w-12 h-fit" />

        <!-- MenÃº Desktop (oculto en mobile) -->
        <ul
            class="hidden lg:flex justify-center items-center gap-x-3 text-white"
        >
            {
                SITE_MENU.map((item) => (
                    <li class="relative group">
                        <a
                            href={item.link}
                            class="block px-4 py-2 hover:bg-white/20 rounded transition-colors"
                        >
                            {item.text}
                            {item.submenu && (
                                <svg
                                    class="w-4 h-4 ml-1 inline"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M19 9l-7 7-7-7"
                                    />
                                </svg>
                            )}
                        </a>

                        {item.submenu && (
                            <ul class="absolute left-0 top-full bg-white text-gray-800 shadow-lg rounded-md min-w-[200px] hidden group-hover:block">
                                {item.submenu.map((subitem) => (
                                    <li>
                                        <a
                                            href={subitem.link}
                                            class="block px-4 py-2 hover:bg-gray-200 whitespace-nowrap rounded-md"
                                        >
                                            {subitem.text}
                                        </a>
                                    </li>
                                ))}
                            </ul>
                        )}
                    </li>
                ))
            }
        </ul>

        <!-- Componente MobileMenu -->
        <MobileMenu />
    </div>
</nav>
